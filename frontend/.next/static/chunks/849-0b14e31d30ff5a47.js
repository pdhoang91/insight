(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{1415:function(t,e,r){"use strict";var a=r(5893);e.Z=()=>(0,a.jsx)("aside",{className:"border-gray-300 p-4"})},8148:function(t,e,r){"use strict";r.d(e,{Z:function(){return _}});var a=r(5893);r(7294);var n=r(9820),s=r(6607);let o=async()=>(await s.Z.get("/topics/recommended")).data.data,i=()=>{let{data:t,error:e}=(0,n.ZP)("/topics/recommended",o);return{recommendedTopics:t,isLoading:!e&&!t,isError:e}};var c=r(1664),l=r.n(c),d=r(1163),u=t=>{let{onClick:e,className:r="",children:n="see more"}=t;return(0,a.jsx)("button",{onClick:e,className:"mt-4 inline-block px-2 py-1 border border-gray-300 text-gray-500 text-sm rounded-full text-center transition-colors hover:bg-gray-100 ".concat(r),children:n})},h=()=>{let{recommendedTopics:t,isLoading:e,isError:r}=i(),n=(0,d.useRouter)();return r?(0,a.jsx)("div",{className:"text-red-500",children:"Kh\xf4ng thể tải chủ đề được đề xuất"}):e?(0,a.jsx)("div",{children:"Đang tải..."}):(0,a.jsxs)("div",{className:"p-4 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Đề Xuất"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(t=>(0,a.jsx)(l(),{href:"/category/".concat(encodeURIComponent(t.name)),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm hover:bg-blue-200 transition-colors",children:t.name},t.id))}),t.length>5&&(0,a.jsx)(u,{onClick:()=>{n.push("/suggestion")}})]})},g=r(6067);let x=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,{data:r,error:a}=(0,n.ZP)("/categories_top",()=>(0,g.cd)(t,e),{revalidateOnMount:!0});return{categories:r?r.categories:[],totalCount:r?r.totalCount:0,isLoading:!a&&!r,isError:a}};var m=r(2914);let p={Technology:(0,a.jsx)(m.tvD,{}),Literature:(0,a.jsx)(m.Mp$,{}),Music:(0,a.jsx)(m.HcQ,{}),Movies:(0,a.jsx)(m.rHK,{})};var f=()=>{let{categories:t,isLoading:e,isError:r}=x(),n=(0,d.useRouter)();return r?(0,a.jsx)("div",{className:"text-red-500",children:"Kh\xf4ng thể tải danh mục"}):e?(0,a.jsx)("div",{children:"Đang tải..."}):(0,a.jsxs)("div",{className:"p-4 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Danh Mục"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(t=>(0,a.jsxs)(l(),{href:"/category/".concat(encodeURIComponent(t.name)),className:"flex items-center text-gray-700 hover:text-blue-500 transition-colors",children:[(0,a.jsx)("span",{className:"mr-2",children:p[t.name]||(0,a.jsx)(m.Mp$,{})}),t.name]},t.id))}),t.length>3&&(0,a.jsx)(u,{onClick:()=>{n.push("/category")}})]})},v=r(4608),j=r(5556);r(1087);var y=r(5480),b=t=>{let{post:e}=t;return e?(0,a.jsxs)(y.E.div,{className:"flex flex-col sm:flex-row items-start space-x-0 sm:space-x-4 mb-6 p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 bg-white cursor-pointer",whileHover:{scale:1.02},transition:{type:"spring",stiffness:200,damping:20},children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(j.Z,{author:e.user}),(0,a.jsx)(l(),{href:"/p/".concat(e.title_name),children:(0,a.jsx)("h5",{className:"text-lg text-gray-800 hover:text-blue-600 transition-colors duration-200 line-clamp-2",children:e.title})}),(0,a.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:(0,a.jsx)(v.Z,{html:e.preview_content,maxLength:100})})]}),(0,a.jsx)("div",{className:"mt-2 sm:mt-0 flex-shrink-0",children:(0,a.jsx)(m.Dli,{className:"text-blue-500"})})]}):(0,a.jsx)("div",{className:"text-center text-gray-500",children:"Đang tải b\xe0i viết..."})},w=r(7187);let N=async()=>await (0,w.Lm)(1,3);var C=()=>{let{data:t,error:e}=(0,n.ZP)("/api/bookmarks",N),r=(0,d.useRouter)();if(e)return(0,a.jsx)("div",{className:"text-red-500",children:"Kh\xf4ng thể tải danh s\xe1ch đọc."});if(!t)return(0,a.jsx)("div",{children:"Đang tải danh s\xe1ch đọc..."});let{username:s,posts:o,totalCount:i}=t;return o&&0!==o.length?(0,a.jsxs)("div",{children:[o.map(t=>(0,a.jsx)(b,{post:t},t.id)),i>o.length&&(0,a.jsx)(u,{onClick:()=>{r.push("/@".concat(s))}})]}):(0,a.jsx)("div",{className:"text-gray-600",children:"Bạn chưa bookmark b\xe0i viết n\xe0o."})},E=()=>(0,a.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Danh S\xe1ch Đọc"}),(0,a.jsx)(C,{})]}),Z=r(2097),k=r.n(Z),_=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(h,{}),(0,a.jsx)("div",{className:k().categoriesSection,children:(0,a.jsx)(f,{})}),(0,a.jsx)("div",{className:k().readingListSection,children:(0,a.jsx)(E,{})})]})},4608:function(t,e,r){"use strict";var a=r(5893);r(7294);var n=r(9238),s=r.n(n);e.Z=t=>{let{html:e,maxLength:r=200}=t,n=s().sanitize(e),o=t=>{if(!t)return"";let e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""};return(0,a.jsx)("span",{children:(t=>{let e=o(t);return e.length>r?e.substring(0,r)+"...":e})(n)})}},8141:function(t,e,r){"use strict";r.d(e,{j:function(){return n}});var a=r(7294);let n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ForYou",[e,r]=(0,a.useState)(t);return{activeTab:e,toggleTab:t=>{r(t)}}}},6067:function(t,e,r){"use strict";r.d(e,{CP:function(){return n},Td:function(){return o},cd:function(){return s}});var a=r(6607);let n=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{let r=(await a.Z.get("/categories?page=".concat(t,"&limit=").concat(e))).data;if(!r||!Array.isArray(r.data)||"number"!=typeof r.total_count)throw Error("Invalid response format for getCategories");return{categories:r.data,totalCount:r.total_count}}catch(t){throw console.error("Error in getCategories:",t),t}},s=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{let r=(await a.Z.get("/categories_top?page=".concat(t,"&limit=").concat(e))).data;if(!r||!Array.isArray(r.data)||"number"!=typeof r.total_count)throw Error("Invalid response format for getCategories");return{categories:r.data,totalCount:r.total_count}}catch(t){throw console.error("Error in getCategories:",t),t}},o=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let n=(await a.Z.get("/categories/".concat(encodeURIComponent(t),"/posts?page=").concat(e,"&limit=").concat(r))).data;if(!n||!Array.isArray(n.data)||"number"!=typeof n.total_count)throw Error("Invalid response format for getPostsByCategory");return{posts:n.data,totalCount:n.total_count}}catch(t){throw console.error("Error in getPostsByCategory:",t),t}}},2413:function(t,e,r){"use strict";r.d(e,{Eu:function(){return s},G6:function(){return o},d0:function(){return n}}),r(6607);var a=r(4716);let n=async()=>{try{let t=(await a.Z.get("/api/tabs")).data;return console.log("getUserTabs",t),t&&Array.isArray(t.tabs)?t.tabs:[]}catch(t){throw console.error("Error fetching user tabs:",t),t}},s=async t=>{try{return(await a.Z.post("/api/tabs/add",{id:t})).data}catch(t){throw console.error("Error adding category follow:",t),t}},o=async t=>{try{return(await a.Z.post("/api/tabs/remove",{id:t})).data}catch(t){throw console.error("Error removing category follow:",t),t}}},2097:function(){}}]);