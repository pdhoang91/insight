"use strict";exports.id=290,exports.ids=[290],exports.modules={5556:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>c});var n=a(997);a(6689);var s=a(1664),l=a.n(s),i=a(8046),o=t([i]);i=(o.then?(await o)():o)[0];let c=({author:t})=>(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx(l(),{href:`/${t?.username}`,legacyBehavior:!0,children:(0,n.jsxs)("a",{className:"flex items-center",children:[n.jsx("img",{src:t?.avatar_url||"/default-avatar.png",alt:`${t?.name||"Author"} Avatar`,className:"w-8 h-8 rounded-full mr-2"}),n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:t?.name||"Unknown Author"})]})}),n.jsx(i.Z,{authorId:t.id})]});r()}catch(t){r(t)}})},8105:(t,e,a)=>{a.d(e,{Z:()=>l});var r=a(997),n=a(6689),s=a(2914);let l=({onAddComment:t,parentId:e=null})=>{let[a,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),c=async r=>{r.preventDefault(),""!==a.trim()&&(o(!0),await t(a,e),l(""),o(!1))};return(0,r.jsxs)("form",{onSubmit:c,className:"relative",children:[r.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-4 pr-12 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none transition-all duration-200",placeholder:e?"Viết c\xe2u trả lời...":"Viết b\xecnh luận...",value:a,onChange:t=>l(t.target.value),rows:3,required:!0,"aria-label":e?"Reply to comment":"Add a comment"}),r.jsx("button",{type:"submit",className:`absolute right-4 bottom-4 bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 transition-colors ${i?"bg-gray-400 cursor-not-allowed":""}`,disabled:i,"aria-label":"Submit comment",children:r.jsx(s.Y2X,{})})]})}},4230:(t,e,a)=>{a.d(e,{Z:()=>s});var r=a(997);a(6689);var n=a(2914);let s=({handleClap:t,clapsCount:e,hasClapped:a,handleToggleReply:s,repliesCount:l,showReplyForm:i,handleToggleReplies:o,showReplies:c})=>(0,r.jsxs)("div",{className:"flex items-center space-x-6 mt-2",children:[(0,r.jsxs)("button",{onClick:t,className:`flex items-center text-sm font-medium focus:outline-none transition-colors ${a?"text-red-500":"text-gray-600 hover:text-red-500"}`,"aria-label":"Clap for this comment",children:[a?r.jsx(n.spm,{className:"mr-1"}):r.jsx(n.nM7,{className:"mr-1"}),e]}),(0,r.jsxs)("button",{onClick:s,className:"flex items-center text-sm text-gray-600 hover:text-blue-500 focus:outline-none transition-colors","aria-label":"Reply to this comment",children:[r.jsx(n.Bjt,{className:"mr-1"})," Trả lời"]}),l>0&&(0,r.jsxs)("button",{onClick:o,className:"flex items-center text-sm text-gray-600 hover:text-blue-500 focus:outline-none transition-colors","aria-label":c?"Ẩn phản hồi":"Hiển thị phản hồi",children:[c?r.jsx(n.s$2,{className:"mr-1"}):r.jsx(n.RiI,{className:"mr-1"}),c?"Ẩn phản hồi":`Hiển thị phản hồi (${l})`]})]})},1352:(t,e,a)=>{a.d(e,{Z:()=>s});var r=a(997);a(6689);var n=a(4584);let s=({content:t})=>r.jsx("p",{className:"text-sm text-gray-700",children:(t=>{let e;let a=/@(\w+)/g,s=[],l=0;for(;null!==(e=a.exec(t));)s.push(t.substring(l,e.index)),s.push(r.jsx(n.Z,{username:e[1],className:"text-blue-500 hover:underline cursor-pointer"},e.index)),l=a.lastIndex;return s.push(t.substring(l)),s})(t)})},7903:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>f});var n=a(997),s=a(6689),l=a(8105),i=a(1352),o=a(4230),c=a(5556),d=a(7772),m=a(8070),h=a(7414),u=a(8153),p=a(760),y=a(1087),x=a(6197),g=t([c,d,m,u,p,x]);[c,d,m,u,p,x]=g.then?(await g)():g;let f=({comment:t,postId:e,mutate:a})=>{let[r,g]=(0,s.useState)(!1),{clapsCount:f,loading:b,hasClapped:w,mutate:j}=(0,m.B)("comment",t.id),{user:v}=(0,h.a)(),k=t.children?t.children.length:0,N=async()=>{if(!v){alert("Bạn cần đăng nhập để clap.");return}try{await (0,p.x5)(t.id),j()}catch(t){console.error("Failed to clap:",t),alert("Đ\xe3 xảy ra lỗi khi clap. Vui l\xf2ng thử lại sau.")}},Z=async(t,e)=>{if(!v){alert("Bạn cần đăng nhập để trả lời.");return}if(!t.trim()){alert("Nội dung trả lời kh\xf4ng được để trống.");return}try{await (0,u.Bn)(e,t,v.id),a(),g(!1)}catch(t){console.error("Failed to add reply:",t),alert("Gửi trả lời thất bại. Vui l\xf2ng thử lại.")}};return(0,n.jsxs)(x.motion.li,{className:"p-4 rounded bg-gray-50 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[n.jsx(c.Z,{author:t.user}),n.jsx(i.Z,{content:t.content}),n.jsx(y.Z,{timestamp:t.created_at}),n.jsx(o.Z,{handleClap:N,clapsCount:f,hasClapped:w,handleToggleReply:()=>{g(t=>!t)},repliesCount:k,showReplyForm:r}),n.jsx(x.AnimatePresence,{children:r&&n.jsx(x.motion.div,{className:"mt-4 ml-8",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:n.jsx(l.Z,{onAddComment:e=>Z(e,t.id),parentId:t.id})})}),t.replies&&t.replies.length>0&&n.jsx(d.Z,{replies:t.replies,commentId:t.id,mutate:a})]})};r()}catch(t){r(t)}})},503:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>o});var n=a(997);a(6689);var s=a(7903),l=a(6197),i=t([s,l]);[s,l]=i.then?(await i)():i;let o=({comments:t,postId:e,mutate:a})=>Array.isArray(t)?0===t.length?n.jsx("p",{className:"text-gray-600",children:"Chưa c\xf3 b\xecnh luận n\xe0o. H\xe3y l\xe0 người đầu ti\xean!"}):n.jsx("ul",{className:"space-y-4",children:n.jsx(l.AnimatePresence,{children:t.map(t=>n.jsx(s.Z,{comment:t,postId:e,mutate:a},t.id))})}):(console.error("Comments data is not an array:",t),n.jsx("div",{className:"text-red-500",children:"Dữ liệu b\xecnh luận kh\xf4ng hợp lệ."}));r()}catch(t){r(t)}})},8967:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>u});var n=a(997),s=a(6689),l=a(503),i=a(8105),o=a(8153),c=a(7636);a(7414);var d=a(2914),m=a(6197),h=t([l,o,c,m]);[l,o,c,m]=h.then?(await h)():h;let u=({isOpen:t,onClose:e,postId:a,user:r})=>{let{comments:h,isLoading:u,isError:p,mutate:y}=(0,c.M)(a,t,1,10),x=t=>{let e=0;for(let a of t)e+=1,a.children&&a.children.length>0&&(e+=x(a.children));return e},g=(0,s.useMemo)(()=>h&&h.length>0?x(h):0,[h]),f=async t=>{if(!r){alert("Bạn cần đăng nhập để b\xecnh luận.");return}if(!t.trim()){alert("Nội dung b\xecnh luận kh\xf4ng được để trống.");return}try{await (0,o.Ir)(a,t,r.id),y()}catch(t){console.error("Failed to add comment:",t),alert("Gửi b\xecnh luận thất bại. Vui l\xf2ng thử lại.")}};return(0,s.useEffect)(()=>{let a=t=>{"Escape"===t.key&&e()};return t&&document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}},[t,e]),n.jsx(m.AnimatePresence,{children:t&&(0,n.jsxs)(m.motion.div,{className:"fixed inset-0 flex justify-end z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[n.jsx(m.motion.div,{className:"fixed inset-0 bg-black opacity-30",onClick:e,"aria-label":"Close Comments",initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},transition:{duration:.3}}),(0,n.jsxs)(m.motion.div,{className:"relative w-full max-w-md bg-white shadow-lg overflow-y-auto h-full",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},children:[n.jsx("button",{className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none",onClick:e,"aria-label":"Close Comments",children:n.jsx(d.aHS,{size:20})}),n.jsx("div",{className:"p-4 border-b",children:(0,n.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:["B\xecnh Luận (",g,")"]})}),n.jsx("div",{className:"p-4 border-b",children:r?n.jsx(i.Z,{onAddComment:f}):n.jsx("p",{className:"text-gray-600",children:"Bạn cần đăng nhập để b\xecnh luận."})}),(0,n.jsxs)("div",{className:"p-4",children:[p&&n.jsx("div",{className:"text-red-500",children:"Kh\xf4ng thể tải b\xecnh luận."}),u&&!p&&(0,n.jsxs)("div",{className:"flex justify-center items-center",children:[n.jsx(FaSpinner,{className:"animate-spin text-gray-500 mr-2"}),n.jsx("span",{className:"text-gray-500",children:"Đang tải b\xecnh luận..."})]}),h&&n.jsx(l.Z,{comments:h,postId:a,mutate:y})]})]})]})})};r()}catch(t){r(t)}})},4584:(t,e,a)=>{a.d(e,{Z:()=>l});var r=a(997);a(6689);var n=a(1664),s=a.n(n);let l=({username:t,className:e})=>r.jsx(s(),{href:`/@${t}`,children:(0,r.jsxs)("a",{className:`font-semibold ${e}`,children:["@",t]})})},4876:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>p});var n=a(997);a(6689);var s=a(4584),l=a(5556),i=a(3246),o=a(8070),c=a(760),d=a(7414),m=a(1087),h=t([l,o,c]);[l,o,c]=h.then?(await h)():h;let u=(t,e)=>e?"...":t,p=({reply:t,commentId:e,mutate:a})=>{let{user:r}=(0,d.a)(),{clapsCount:h,loading:p,hasClapped:y,mutate:x}=(0,o.B)("reply",t.id),g=async()=>{if(!r){alert("Bạn cần đăng nhập để clap.");return}try{await (0,c.VI)(t.id),x()}catch(t){console.error("Failed to clap:",t),alert(t.message||"Đ\xe3 xảy ra lỗi khi clap.")}};return(0,n.jsxs)("li",{className:"p-4 rounded bg-white border border-gray-200 transition hover:shadow-lg",children:[n.jsx(l.Z,{author:t.user}),n.jsx("p",{className:"text-gray-700 mt-2",children:(t=>{let e;let a=/@(\w+)/g,r=[],l=0;for(;null!==(e=a.exec(t));)r.push(t.substring(l,e.index)),r.push(n.jsx(s.Z,{username:e[1]},e.index)),l=a.lastIndex;return r.push(t.substring(l)),r})(t.content)}),n.jsx(m.Z,{timestamp:t.created_at}),n.jsx("div",{className:"flex items-center mt-2 space-x-4",children:(0,n.jsxs)("button",{onClick:g,className:`flex items-center text-sm font-medium ${y?"text-red-500":"text-gray-600 hover:text-red-500"} transition-colors`,disabled:p,"aria-label":"Clap for this reply",children:[n.jsx(i.M_L,{className:"mr-1"})," ",u(h,p)]})})]})};r()}catch(t){r(t)}})},7772:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>i});var n=a(997);a(6689);var s=a(4876),l=t([s]);s=(l.then?(await l)():l)[0];let i=({replies:t,commentId:e,mutate:a})=>Array.isArray(t)?0===t.length?n.jsx("p",{className:"text-gray-600",children:"Chưa c\xf3 trả lời n\xe0o. H\xe3y l\xe0 người đầu ti\xean!"}):n.jsx("ul",{className:"space-y-4 mt-4 ml-8",children:t.map(t=>n.jsx(s.Z,{reply:t,commentId:e,mutate:a},t.id))}):(console.error("Replies data is not an array:",t),n.jsx("div",{className:"text-red-500",children:"Dữ liệu trả lời kh\xf4ng hợp lệ."}));r()}catch(t){r(t)}})},1663:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>o});var n=a(997);a(6689);var s=a(7259),l=a(2914),i=t([s]);s=(i.then?(await i)():i)[0];let o=({postId:t})=>{let{averageRating:e,hover:a,setHover:r,handleSubmitRating:i}=(0,s.Z)(t),o=t=>a>=t?n.jsx(l.QJe,{}):a||!(e>=t-.5)?n.jsx(l.jJN,{}):e>=t?n.jsx(l.QJe,{}):n.jsx(l.TtB,{});return(0,n.jsxs)("div",{className:"flex items-center",children:[[1,2,3,4,5].map(t=>n.jsx("span",{onClick:()=>i(t),onMouseEnter:()=>r(t),onMouseLeave:()=>r(0),className:`cursor-pointer text-yellow-400 transition-transform duration-200 ${a>=t?"scale-110":"scale-100"}`,children:o(t)},t)),e>0&&(0,n.jsxs)("span",{className:"ml-2 text-gray-700 text-sm",children:[e.toFixed(1)," / 5"]})]})};r()}catch(t){r(t)}})},8046:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>c});var n=a(997);a(6689);var s=a(6699),l=a(6934),i=a(7414),o=t([l]);l=(o.then?(await o)():o)[0];let c=({authorId:t})=>{let{isFollowing:e,toggleFollow:a,loading:r}=(0,l.Z)(t),{user:o}=(0,i.a)();return o&&t&&o.id!==t?n.jsx("button",{onClick:a,className:"ml-2 text-blue-500",disabled:r,children:e?n.jsx(s.UDo,{}):n.jsx(s.cHf,{})}):null};r()}catch(t){r(t)}})},1087:(t,e,a)=>{a.d(e,{Z:()=>s});var r=a(997);a(6689);let n=t=>{let e=Math.floor((new Date-new Date(t))/1e3),a=Math.floor(e/86400);return a>=1?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):(a=Math.floor(e/3600))>=1?`${a} hour${1===a?"":"s"} ago`:(a=Math.floor(e/60))>=1?`${a} minute${1===a?"":"s"} ago`:"just now"},s=({timestamp:t})=>r.jsx("p",{className:"text-sm font-medium text-gray-600 mt-1 inline-flex items-center space-x-1",children:r.jsx("span",{children:n(t)})})},7559:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>c});var n=a(6689),s=a(7187),l=a(7414),i=a(5941),o=t([s,i]);[s,i]=o.then?(await o)():o;let c=t=>{let{user:e}=(0,l.a)(),[a,r]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{if(!e){r(!1);return}try{let e=await (0,s.UI)(t);r(e.is_bookmarked)}catch(t){console.error("Failed to check bookmark status:",t)}})()},[t,e]);let d=(0,n.useCallback)(async()=>{if(!e){alert("Bạn cần đăng nhập để lưu b\xe0i viết.");return}c(!0);try{if(a){let e=await (0,s.SI)(t);"Bookmark removed"===e.message?r(!1):alert("Kh\xf4ng thể loại bỏ bookmark. Vui l\xf2ng thử lại.")}else{let e=await (0,s.up)(t);"Bookmark created"===e.message||"Bookmark reactivated"===e.message?r(!0):"Bookmark already exists"===e.message?r(!0):alert("Kh\xf4ng thể lưu bookmark. Vui l\xf2ng thử lại.")}(0,i.mutate)("/api/bookmarks")}catch(t){console.error("Failed to toggle bookmark:",t),alert("Đ\xe3 xảy ra lỗi khi xử l\xfd bookmark. Vui l\xf2ng thử lại.")}finally{c(!1)}},[a,t,e]);return{isBookmarked:a,toggleBookmark:d,loading:o}};r()}catch(t){r(t)}})},8070:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{B:()=>i});var n=a(5941),s=a(760),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=(t,e)=>{let a=`/claps?type=${t}&id=${e}`,{data:r,error:l,mutate:i}=(0,n.default)(a,()=>(0,s.JZ)(t,e));r&&!("number"==typeof r||"object"==typeof r&&"number"==typeof r.clap_count)&&console.error("Unexpected claps count format:",r);let o=0;return"number"==typeof r?o=r:"object"==typeof r&&"number"==typeof r.clap_count&&(o=r.clap_count),{clapsCount:o,loading:!l&&!r,isError:l,hasClapped:o>0,mutate:i}};r()}catch(t){r(t)}})},7636:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{M:()=>i});var n=a(5941),s=a(8153),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=(t,e,a=1,r=10)=>{let l=e?`/posts/${t}/comments?page=${a}&limit=${r}`:null,{data:i,error:o,mutate:c}=(0,n.default)(l,()=>(0,s.rN)(t,a,r));return i&&("object"!=typeof i||!Array.isArray(i.data)||"number"!=typeof i.totalCount)&&console.error("Unexpected comments format:",i),{comments:i?i.data:[],totalCount:i?i.totalCount:0,totalCommentReply:i?i.totalCommentReply:0,isLoading:!o&&!i,isError:o,mutate:c}};r()}catch(t){r(t)}})},6934:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>o});var n=a(6689),s=a(7414),l=a(9346),i=t([l]);l=(i.then?(await i)():i)[0];let o=t=>{let{user:e}=(0,s.a)(),[a,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{if(e&&t&&e.id!==t)try{let e=await (0,l.rl)(t);r(e.isFollowing)}catch(t){console.error("Failed to check following status:",t)}})()},[e,t]);let c=async()=>{if(!e){alert("Bạn cần đăng nhập để theo d\xf5i.");return}if(e.id===t){alert("Bạn kh\xf4ng thể theo d\xf5i ch\xednh m\xecnh.");return}o(!0);try{a?(await (0,l.F6)(t),r(!1)):(await (0,l.P_)(t),r(!0))}catch(t){console.error("Failed to follow/unfollow:",t),alert("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại sau.")}finally{o(!1)}};return{isFollowing:a,toggleFollow:c,loading:i}};r()}catch(t){r(t)}})},7259:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Z:()=>o});var n=a(6689),s=a(6827),l=a(7414),i=t([s]);s=(i.then?(await i)():i)[0];let o=t=>{let{user:e}=(0,l.a)(),[a,r]=(0,n.useState)(0),[i,o]=(0,n.useState)(0),[c,d]=(0,n.useState)(0);(0,n.useEffect)(()=>{(async()=>{try{let e=await (0,s.k)(t);o(e)}catch(t){console.error("Failed to fetch average rating",t)}})()},[t]);let m=async a=>{if(!e){alert("Bạn cần đăng nhập để clap.");return}try{await (0,s.f)(t,a),r(a);let e=await (0,s.k)(t);o(e)}catch(t){console.error("Failed to submit rating",t)}};return{rating:a,averageRating:i,hover:c,setHover:d,handleSubmitRating:m}};r()}catch(t){r(t)}})},760:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{JZ:()=>d,VI:()=>c,nl:()=>i,x5:()=>o});var n=a(4716),s=a(6607),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=async t=>(await n.Z.post(`/api/post/${t}/clap`)).data,o=async t=>(await n.Z.post(`/api/comment/${t}/clap`)).data,c=async t=>(await n.Z.post(`/api/reply/${t}/clap`)).data,d=async(t,e)=>(await s.Z.get("/claps",{params:{type:t,id:e}})).data.clap_count;r()}catch(t){r(t)}})},7187:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Lm:()=>o,SI:()=>i,UI:()=>c,up:()=>l});var n=a(4716),s=t([n]);n=(s.then?(await s)():s)[0];let l=async t=>(await n.Z.post("/api/bookmarks",{post_id:t})).data,i=async t=>(await n.Z.post("/api/bookmarks/unbookmark",{post_id:t})).data,o=async(t=1,e=10)=>{let a=(await n.Z.get(`/api/bookmarks?page=${t}&limit=${e}`)).data;if(!a||!Array.isArray(a.data)||"number"!=typeof a.total_count)throw Error("Invalid response format for getReadingList");return{username:"pdhoang91",posts:a.data,totalCount:a.total_count}},c=async t=>(await n.Z.get(`/api/bookmarks/isBookmarked/${t}`)).data;r()}catch(t){r(t)}})},8153:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{Bn:()=>c,Ir:()=>o,rN:()=>i});var n=a(4716),s=a(6607),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=async(t,e=1,a=10)=>{let{data:r,total_count:n,total_comment_reply:l}=(await s.Z.get(`/posts/${t}/comments?page=${e}&limit=${a}`)).data;return{data:r,totalCommentReply:l,totalCount:n}},o=async(t,e)=>(await n.Z.post(`/api/posts/${t}/comments`,{post_id:t,content:e})).data,c=async(t,e)=>(await n.Z.post(`/api/comments/${t}/replies`,{comment_id:t,content:e})).data;r()}catch(t){r(t)}})},9346:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{F6:()=>c,P_:()=>o,QL:()=>d,kS:()=>m,rl:()=>i});var n=a(4716),s=a(6607),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=async t=>(await n.Z.get(`/api/follow/status/${t}`)).data,o=async t=>(await n.Z.post("/api/follow",{following_id:t})).data,c=async t=>(await n.Z.delete(`/api/unfollow/${t}`)).data,d=async()=>{try{let t=await s.Z.get("/follow/writers");return console.log("response1",t),t.data.data}catch(t){throw console.error("Error fetching writers:",t),t}},m=async()=>{try{let t=await s.Z.get("/follow/topics");return console.log("response2",t),t.data.data}catch(t){throw console.error("Error fetching topics:",t),t}};r()}catch(t){r(t)}})},6827:(t,e,a)=>{a.a(t,async(t,r)=>{try{a.d(e,{f:()=>i,k:()=>o});var n=a(4716),s=a(6607),l=t([n,s]);[n,s]=l.then?(await l)():l;let i=async(t,e)=>(await n.Z.post(`/api/posts/${t}/ratings`,{post_id:t,rating:e,score:e})).data,o=async t=>(await s.Z.get(`/posts/${t}/ratings`)).data.average_rating;r()}catch(t){r(t)}})}};